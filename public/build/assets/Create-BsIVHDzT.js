import{r as y,C,c as V,o as d,w as r,b as s,a as o,f as i,i as k,u as a,n as x,p as P,d as f,F as B,g as U,t as $,B as F,e as M}from"./app-ZzVSykTz.js";import{_ as N}from"./PrimaryButton-it_B8zmT.js";import{_ as m}from"./InputLabel-BWFG4LyV.js";import{_ as S}from"./TextInput-CAOJlXhb.js";import{_ as n}from"./InputError-BTd2dKaJ.js";import{_ as h}from"./AppLayout-CPuV2_u1.js";import{C as D}from"./Container-BpC1E2d8.js";import{M as H}from"./MarkdownEditor-B-1tO6Xy.js";import{P as T}from"./PageHeading-BzrrdtDK.js";import"./ConfirmationModal-BDGR0-4W.js";import"./Modal-CpV-8qJ8.js";import"./SecondaryButton-BIhARJ67.js";import"./GradientLink-CGmOCsqh.js";import"./ApplicationLogo-kC_ahKsM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"w-full md:w-3/4"},E={class:"mt-3"},I=["onClick"],L={class:"w-full md:w-1/4 mt-8 md:mt-0 ms-8"},R={class:""},z={class:"mt-3"},G=["value"],j={class:"mt-3"},q=["src"],ie={__name:"Create",props:["topics"],setup(p){var c;const _=p,u=y(null),v=g=>{const e=g.target.files[0];if(e){const t=new FileReader;t.onload=b=>{u.value=b.target.result},t.readAsDataURL(e),l.image=e}},l=C({title:"",topic_id:((c=_.topics[0])==null?void 0:c.id)||null,body:"",image:null}),w=()=>l.post(route("posts.store"));return(g,e)=>(d(),V(h,{title:"Create a Post"},{default:r(()=>[s(D,null,{default:r(()=>[s(T,null,{default:r(()=>e[3]||(e[3]=[i("Create a Post")])),_:1}),o("form",{onSubmit:k(w,["prevent"]),class:"mt-6 md:flex"},[o("div",A,[o("div",null,[s(m,{for:"title",class:"sr-only"},{default:r(()=>e[4]||(e[4]=[i("Title")])),_:1}),s(S,{id:"title",class:"w-full",modelValue:a(l).title,"onUpdate:modelValue":e[0]||(e[0]=t=>a(l).title=t),placeholder:"Give it a great titleâ€¦"},null,8,["modelValue"]),s(n,{message:a(l).errors.title,class:"mt-1"},null,8,["message"])]),o("div",E,[s(m,{for:"body",class:"sr-only"},{default:r(()=>e[5]||(e[5]=[i("Body")])),_:1}),s(H,{modelValue:a(l).body,"onUpdate:modelValue":e[1]||(e[1]=t=>a(l).body=t)},{toolbar:r(({editor:t})=>[o("li",null,[o("button",{onClick:()=>t.chain().focus().toggleHeading({level:5}).run(),type:"button",class:x(["px-3 py-2",[t.isActive("heading",{level:5})?"bg-rose-500 text-white":"hover:bg-gray-200"]]),title:"Heading 4"},e[6]||(e[6]=[o("i",{class:"ri-h-4"},null,-1)]),10,I)])]),_:1},8,["modelValue"]),s(n,{message:a(l).errors.body,class:"mt-1"},null,8,["message"])])]),o("div",L,[o("div",R,[s(N,{type:"submit"},{default:r(()=>e[7]||(e[7]=[i("Create Post")])),_:1})]),o("div",z,[s(m,{for:"topic_id"},{default:r(()=>e[8]||(e[8]=[i("Select a Topic")])),_:1}),P(o("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>a(l).topic_id=t),id:"topic_id",class:"mt-1 w-full rounded-md text-black border-gray-300 shadow-sm focus:border-rose-500 focus:ring-rose-500"},[(d(!0),f(B,null,U(p.topics,t=>(d(),f("option",{key:t.id,value:t.id},$(t.name),9,G))),128))],512),[[F,a(l).topic_id]]),s(n,{message:a(l).errors.topic_id,class:"mt-1"},null,8,["message"])]),o("div",j,[s(m,{for:"image"},{default:r(()=>e[9]||(e[9]=[i("Upload Image")])),_:1}),o("input",{type:"file",id:"image",onChange:v,class:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-rose-500 focus:ring-rose-500"},null,32),s(n,{message:a(l).errors.image,class:"mt-1"},null,8,["message"]),u.value?(d(),f("img",{key:0,src:u.value,alt:"Image preview",class:"mt-2 w-full rounded-md"},null,8,q)):M("",!0)])])],32)]),_:1})]),_:1}))}};export{ie as default};
